---
layout: reference13
title_md: '`<ceylon-war>` Ant task'
tab: documentation
unique_id: docspage
doc_root: ../../..
gh_editable: false
---

<!-- this file was auto-generated by com.redhat.ceylon.tools.antdoc.CeylonAntTaskDocTool -->

# #{page.title_md}

## Usage

**Note**: You must [declare the tasks with a `<typedef>`](../ant).

## Description

Generates a WAR file from a compiled `.car` file

The `<ceylon-war>` ant task wraps the [`ceylon war`](../ceylon/subcommands/ceylon-war.html) command.

### Attributes

<table class="ant-parameters">
<tbody>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr id="attribute-module">
<td><code>module</code></td>
<td><p>The module for which to create the <code>.war</code></p>
</td>
<td>Yes</td>
</tr>

<tr id="attribute-cacheRep">
<td><code>cacheRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--cacherep"><code>--cacherep</code></a> command line option.
Specifies the folder to use for caching downloaded modules. (default: <code>~/.ceylon/cache</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-config">
<td><code>config</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--config"><code>--config</code></a> command line option.
Specifies the configuration file to use for this tool. (default: <code>./.ceylon/config</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-cwd">
<td><code>cwd</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--cwd"><code>--cwd</code></a> command line option.
Specifies the current working directory for this tool. (default: the directory where the tool is run from)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-errorProperty">
<td><code>errorProperty</code></td>
<td><p>The ant property to set to true in the event of an error</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-executable">
<td><code>executable</code></td>
<td><p>The location of the ceylon executable script.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-failOnError">
<td><code>failOnError</code></td>
<td><p>Whether an error in executing this task should fail the ant build</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-fork">
<td><code>fork</code></td>
<td><p>Whether the task should be run in a separate VM (default: <code>true</code>).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-inheritAll">
<td><code>inheritAll</code></td>
<td><p>Whether a task should inherit environment and properties. Only applies when <code>forked == true</code>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-linkWithCurrentDistribution">
<td><code>linkWithCurrentDistribution</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--link-with-current-distribution"><code>--link-with-current-distribution</code></a> command line option.
Downgrade which were compiled with a more recent version of the distribution to the version of that module present in this distribution (1.2.2). This might fail with a linker error at runtime. For example if the module depended on an API present in the more recent version, but absent from 1.2.2. Allowed arguments are upgrade, downgrade or abort. Default: upgrade</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-name">
<td><code>name</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--name"><code>--name</code></a> command line option.
Sets name of the WAR file (default: moduleName-version.war)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noDefaultRepositories">
<td><code>noDefaultRepositories</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--no-default-repositories"><code>--no-default-repositories</code></a> command line option.
Indicates that the default repositories should not be used.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-offline">
<td><code>offline</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--offline"><code>--offline</code></a> command line option.
Enables offline mode that will prevent connections to remote repositories.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-out">
<td><code>out</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--out"><code>--out</code></a> command line option.
Sets the output directory for the WAR file (default: .)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-overrides">
<td><code>overrides</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--overrides"><code>--overrides</code></a> command line option.
Specifies the XML file to use to load module overrides. See http://ceylon-lang.org/documentation/current/reference/repository/maven/ for information. <em>Experimental</em>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-resourceRoot">
<td><code>resourceRoot</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--resource-root"><code>--resource-root</code></a> command line option.
Sets the special resource directory whose files will end up in the root of the resulting WAR file (default: web-content).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-resultProperty">
<td><code>resultProperty</code></td>
<td><p>The ant property to set to the Ceylon program exit code</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-stacktraces">
<td><code>stacktraces</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--stacktraces"><code>--stacktraces</code></a> command line option.
If an error propagates to the top level tool, print its stack trace.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-sysRep">
<td><code>sysRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--sysrep"><code>--sysrep</code></a> command line option.
Specifies the system repository containing essential modules. (default: <code>$CEYLON_HOME/repo</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-verbose">
<td><code>verbose</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--verbose"><code>--verbose</code></a> command line option.
Produce verbose output. If no <code>flags</code> are given then be verbose about everything, otherwise just be verbose about the flags which are present. Allowed flags include: <code>all</code>, <code>loader</code>.</p>
</td>
<td>No</td>
</tr>

</tbody>
</table>

### Nested elements

#### `<define>`

<p>A <code>&lt;define&gt;</code> element is used to set system properties for the ant task being executed.
Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--define"><code>--define</code></a> command line option.
Set a system property</p>
The value for the system property can either be passed as a `value` attribute:

    <define key="org.example.helloworld.greeting" value="Hi"/>

or it can be the text between the begin and end tags:

<!-- lang: xml -->
    <define key="org.example.helloworld.greeting">Hi</define>

Alternatively, it is posible to dispense with the attributes and use the syntax

    <define>org.example.helloworld.greeting=Hi</define>


<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>key</code></td>
<td><p>The property to be defined</p>
</td>
<td>No</td>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The value of the define</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<exclude>`

<p>Equivalent to the <a href="../ceylon/subcommands/ceylon-war.html#option--exclude-module"><code>--exclude-module</code></a> command line option.
Excludes modules from the WAR file. Can be a module name or a file containing module names. Can be specified multiple times. Note that this excludes the module from the WAR file, but if your modules require that module to be present at runtime it will still be required and may cause your application to fail to start if it is not provided at runtime.</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>module</code></td>
<td><p>The module to exclude</p>
</td>
<td>Yes</td>
</tr>
</tbody>
</table>

#### `<rep>`

<p>A module repository containing dependencies. Can be specified multiple times. Defaults to <code>&lt;rep url="./modules"/&gt;</code>.</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>url</code></td>
<td><p>The URL or path of the module repository.</p>
</td>
<td>Yes, unless a `refid` is given</td>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <code>&lt;rep&gt;</code> defined outside this task.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<reposet>`

<p>A set of module repositories containing dependencies. Can be specified multiple times. Default to <code>modules</code>.</p>
A `<reposet>` element contains a number of `<repo>` and/or `<reposet>` elements. It can be defined at the top level, and then used by reference using the `refid` attribute so you don't have to repeat the same list of repositories all the time.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <a href="../ant/#_reposet"><code>&lt;reposet&gt;</code></a> defined elsewhere.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>


## See also

* How to [declare the tasks with a `<typedef>`](../ant).
