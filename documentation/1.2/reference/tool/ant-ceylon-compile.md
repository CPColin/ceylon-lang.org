---
layout: reference12
title_md: '`<ceylon-compile>` Ant task'
tab: documentation
unique_id: docspage
doc_root: ../../..
gh_editable: false
---

<!-- this file was auto-generated by com.redhat.ceylon.tools.antdoc.CeylonAntTaskDocTool -->

# #{page.title_md}

## Usage

**Note**: You must [declare the tasks with a `<typedef>`](../ant).

To compile the module `com.example.foo` whose source code is in the
`src` directory to a module repository in the `build` directory, with
verbose compiler messages:

<!-- lang: xml -->
    <target name="compile" depends="ceylon-ant-taskdefs">
      <ceylon-compile src="src" out="build" verbose="true">
        <module name="com.example.foo"/>
      </ceylon-compile>
    </target>


## Description

Compiles Ceylon and Java source code and directly produces module and source archives in a module repository.

The `<ceylon-compile>` ant task wraps the [`ceylon compile`](../ceylon/subcommands/ceylon-compile.html) command.

### Attributes

<table class="ant-parameters">
<tbody>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr id="attribute-cacheRep">
<td><code>cacheRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--cacherep"><code>--cacherep</code></a> command line option.
Specifies the folder to use for caching downloaded modules. (default: <code>~/.ceylon/cache</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-config">
<td><code>config</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--config"><code>--config</code></a> command line option.
Specifies the configuration file to use for this tool. (default: <code>./.ceylon/config</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-cwd">
<td><code>cwd</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--cwd"><code>--cwd</code></a> command line option.
Specifies the current working directory for this tool. (default: the directory where the tool is run from)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-encoding">
<td><code>encoding</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--encoding"><code>--encoding</code></a> command line option.
Sets the encoding used for reading source files(default: platform-specific).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-errorProperty">
<td><code>errorProperty</code></td>
<td><p>The ant property to set to true in the event of an error</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-executable">
<td><code>executable</code></td>
<td><p>The location of the ceylon executable script.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-failOnError">
<td><code>failOnError</code></td>
<td><p>Whether an error in executing this task should fail the ant build</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-fork">
<td><code>fork</code></td>
<td><p>Whether the task should be run in a separate VM (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-generateModuleInfo">
<td><code>generateModuleInfo</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--generate-module-info"><code>--generate-module-info</code></a> command line option.
Generate Java 9 (Jigsaw) <code>module-info.class</code> module descriptor in the generated Ceylon archive.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-inheritAll">
<td><code>inheritAll</code></td>
<td><p>Whether a task should inherit environment and properties. Only applies when <code>forked == true</code>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noDefaultRepositories">
<td><code>noDefaultRepositories</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--no-default-repositories"><code>--no-default-repositories</code></a> command line option.
Indicates that the default repositories should not be used.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noMtimeCheck">
<td><code>noMtimeCheck</code></td>
<td><p>When <code>true</code> a file modification time check will be performed to avoid processing sources unnecessarily (default: <code>true</code>).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noOsgi">
<td><code>noOsgi</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--no-osgi"><code>--no-osgi</code></a> command line option.
Indicates that the generated car file should not contain OSGi module declarations.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noPom">
<td><code>noPom</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--no-pom"><code>--no-pom</code></a> command line option.
Indicates that the generated car file should not contain Maven POM module declarations.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-offline">
<td><code>offline</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--offline"><code>--offline</code></a> command line option.
Enables offline mode that will prevent connections to remote repositories.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-osgiProvidedBundles">
<td><code>osgiProvidedBundles</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--osgi-provided-bundles"><code>--osgi-provided-bundles</code></a> command line option.
Comma-separated list of module names. The listed modules are expected to be OSGI bundles provided by the framework, and will be omitted from the generated MANIFEST 'Required-Bundle' OSGI header.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-out">
<td><code>out</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--out"><code>--out</code></a> command line option.
Specifies the output module repository (which must be publishable). (default: <code>./modules</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-overrides">
<td><code>overrides</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--overrides"><code>--overrides</code></a> command line option.
Specifies the XML file to use to load module overrides. See http://ceylon-lang.org/documentation/current/reference/repository/maven/ for information. <em>Experimental</em>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-pack200">
<td><code>pack200</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--pack200"><code>--pack200</code></a> command line option.
Try to make the generated car file smaller by repacking it using <code>pack200</code>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-pass">
<td><code>pass</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--pass"><code>--pass</code></a> command line option.
Sets the password for use with an authenticated output repository (no default).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-resource">
<td><code>resource</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--resource"><code>--resource</code></a> command line option.
Path to directory containing resource files. Can be specified multiple times; you can also specify several paths separated by your operating system's <code>PATH</code> separator. (default: <code>./resource</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-resultProperty">
<td><code>resultProperty</code></td>
<td><p>The ant property to set to the Ceylon program exit code</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-stacktraces">
<td><code>stacktraces</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--stacktraces"><code>--stacktraces</code></a> command line option.
If an error propagates to the top level tool, print its stack trace.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-sysRep">
<td><code>sysRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--sysrep"><code>--sysrep</code></a> command line option.
Specifies the system repository containing essential modules. (default: <code>$CEYLON_HOME/repo</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-user">
<td><code>user</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--user"><code>--user</code></a> command line option.
Sets the user name for use with an authenticated output repository (no default).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-verbose">
<td><code>verbose</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--verbose"><code>--verbose</code></a> command line option.
Produce verbose output. If no <code>flags</code> are given then be verbose about everything, otherwise just be verbose about the flags which are present. Allowed flags include: <code>all</code>, <code>loader</code>, <code>ast</code>, <code>code</code>, <code>cmr</code>, <code>benchmark</code>.</p>
</td>
<td>No</td>
</tr>

</tbody>
</table>

### Nested elements

#### `<define>`

<p>A <code>&lt;define&gt;</code> element is used to set system properties for the ant task being executed.
Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--define"><code>--define</code></a> command line option.
Set a system property</p>
The value for the system property can either be passed as a `value` attribute:

    <define key="org.example.helloworld.greeting" value="Hi"/>

or it can be the text between the begin and end tags:

<!-- lang: xml -->
    <define key="org.example.helloworld.greeting">Hi</define>

Alternatively, it is posible to dispense with the attributes and use the syntax

    <define>org.example.helloworld.greeting=Hi</define>


<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>key</code></td>
<td><p>The property to be defined</p>
</td>
<td>No</td>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The value of the define</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<files>`

<p>A <code>&lt;fileset&gt;</code> containing Ceylon and Java files to be compiled (incremental compilation)</p>

#### `<javacOption>`

<p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--javac"><code>--javac</code></a> command line option.
Passes an option to the underlying java compiler.</p>
For example:

<!-- lang: xml -->
    <javac key="-encoding">UTF-8</javac>

or

<!-- lang: xml -->
    <javac key="-encoding" value="UTF-8"/>>


<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>key</code></td>
<td><p>The name of the <code>javac</code> option</p>
</td>
<td>Yes</td>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The value of the <code>javac</code> option. Required when the corresponding <code>javac</code> option requires an argument</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<module>`

<p>A module to be compiled</p>
A `<module>` element must specify a name, and may specify a version. If the relevant ceylon task don't require a version it will be ignored.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>name</code></td>
<td><p>The module name.</p>
</td>
<td>Yes</td>
</tr>
<tr>
<td><code>version</code></td>
<td><p>The module version. Whether this is required depends on the task</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<moduleSet>`

<p>Modules to be compiled</p>
A `<moduleset>` containing a number of `<sourcemodule>`s and/or `<module>` subelements. It can be defined at the top level and then used by reference using the `refid` attribute, so you don't have to repeat the same list of modules all the time.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <a href="../ant/#_moduleset"><code>&lt;moduleset&gt;</code></a> defined elsewhere.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<rep>`

<p>A module repository containing dependencies. Can be specified multiple times. Defaults to <code>&lt;rep url="./modules"/&gt;</code>.</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>url</code></td>
<td><p>The URL or path of the module repository.</p>
</td>
<td>Yes, unless a `refid` is given</td>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <code>&lt;rep&gt;</code> defined outside this task.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<reposet>`

<p>A set of module repositories containing dependencies. Can be specified multiple times. Default to <code>modules</code>.</p>
A `<reposet>` element contains a number of `<repo>` and/or `<reposet>` elements. It can be defined at the top level, and then used by reference using the `refid` attribute so you don't have to repeat the same list of repositories all the time.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <a href="../ant/#_reposet"><code>&lt;reposet&gt;</code></a> defined elsewhere.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<resource>`

<p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--resource"><code>--resource</code></a> command line option.
Path to directory containing resource files. Can be specified multiple times; you can also specify several paths separated by your operating system's <code>PATH</code> separator. (default: <code>./resource</code>)</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The source path.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<source>`

<p>A <code>&lt;source&gt;</code> path, specifying a source path, for example:</p>
<!-- lang: none -->
<pre><code>&lt;source&gt;my/src/directory&lt;/source&gt;
</code></pre>
<p>or</p>
<!-- lang: none -->
<pre><code>&lt;source value="/src/directory"/&gt;
</code></pre>
<p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--src"><code>--src</code></a> command line option.
Path to directory containing source files. Can be specified multiple times; you can also specify several paths separated by your operating system's <code>PATH</code> separator. (default: <code>./source</code>)</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The source path.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<sourceModules>`

<p>Modules to be compiled</p>
Includes all the ceylon modules in a given source directory, as specified by the `dir` attribute. This saves you having to explicitly list all the modules to be compiled, you can instead just compile all the modules in a given directory.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>dir</code></td>
<td><p>The directory containing module source files</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<src>`

<p>Synonymous with <code>&lt;source&gt;</code></p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The source path.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<suppressWarning>`

<p>Equivalent to the <a href="../ceylon/subcommands/ceylon-compile.html#option--suppress-warning"><code>--suppress-warning</code></a> command line option.
Suppress the reporting of the given warnings. If no <code>warnings</code> are given then suppresss the reporting of all warnings, otherwise just suppresss those which are present. Allowed flags include: <code>filenameNonAscii</code>, <code>filenameCaselessCollision</code>, <code>deprecation</code>, <code>compilerAnnotation</code>, <code>doclink</code>, <code>expressionTypeNothing</code>, <code>unusedDeclaration</code>, <code>unusedImport</code>, <code>ceylonNamespace</code>, <code>javaNamespace</code>, <code>suppressedAlready</code>, <code>suppressesNothing</code>, <code>unknownWarning</code>, <code>ambiguousAnnotation</code>, <code>similarModule</code>, <code>importsOtherJdk</code>, <code>javaAnnotationElement</code>.</p>
Suppresses compiler warnings. Warnings can be suppressed by type, for example

<!-- lang: xml -->
    <suppressWarning>filenameNonAscii</suppressWarning>

or eqiuvalently 

<!-- lang: xml -->
    <suppressWarning value="filenameNonAscii">

or all warnings can be suppressed by not naming any specific warnings:

<!-- lang: xml -->
    <suppressWarning/>



<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The name of the warning(s) to be suppressed.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>


## See also

* How to [declare the tasks with a `<typedef>`](../ant).
