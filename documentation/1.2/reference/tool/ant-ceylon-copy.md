---
layout: reference12
title_md: '`<ceylon-copy>` Ant task'
tab: documentation
unique_id: docspage
doc_root: ../../..
gh_editable: false
---

<!-- this file was auto-generated by com.redhat.ceylon.tools.antdoc.CeylonAntTaskDocTool -->

# #{page.title_md}

## Usage

**Note**: You must [declare the tasks with a `<typedef>`](../ant).

To copy the module `com.example.foo` with all its dependencies
to a module repository in the `build` directory:

<!-- lang: xml -->
    <target name="copy" depends="ceylon-ant-taskdefs">
      <ceylon-copy out="build" recursive="true">
        <module name="com.example.foo" version="1.5"/>
      </ceylon-copy>
    </target>


## Description

Copies modules from one module repository to another

The `<ceylon-copy>` ant task wraps the [`ceylon copy`](../ceylon/subcommands/ceylon-copy.html) command.

### Attributes

<table class="ant-parameters">
<tbody>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr id="attribute-all">
<td><code>all</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--all"><code>--all</code></a> command line option.
Include everything (equivalent to <code>--jvm</code>, <code>--js</code>, <code>--docs</code>, <code>--src</code>, <code>--scripts</code>) (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-cacheRep">
<td><code>cacheRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--cacherep"><code>--cacherep</code></a> command line option.
Specifies the folder to use for caching downloaded modules. (default: <code>~/.ceylon/cache</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-config">
<td><code>config</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--config"><code>--config</code></a> command line option.
Specifies the configuration file to use for this tool. (default: <code>./.ceylon/config</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-cwd">
<td><code>cwd</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--cwd"><code>--cwd</code></a> command line option.
Specifies the current working directory for this tool. (default: the directory where the tool is run from)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-docs">
<td><code>docs</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--docs"><code>--docs</code></a> command line option.
Include documentation (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-errorProperty">
<td><code>errorProperty</code></td>
<td><p>The ant property to set to true in the event of an error</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-executable">
<td><code>executable</code></td>
<td><p>The location of the ceylon executable script.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-failOnError">
<td><code>failOnError</code></td>
<td><p>Whether an error in executing this task should fail the ant build</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-fork">
<td><code>fork</code></td>
<td><p>Whether the task should be run in a separate VM (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-inheritAll">
<td><code>inheritAll</code></td>
<td><p>Whether a task should inherit environment and properties. Only applies when <code>forked == true</code>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-js">
<td><code>js</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--js"><code>--js</code></a> command line option.
Include artifacts compiled for JavaScript (<code>.js</code> and <code>-model.js</code>) (default: <code>true</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-jvm">
<td><code>jvm</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--jvm"><code>--jvm</code></a> command line option.
Include artifacts compiled for the JVM (<code>.car</code> and <code>.jar</code>) (default: <code>true</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-noDefaultRepositories">
<td><code>noDefaultRepositories</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--no-default-repositories"><code>--no-default-repositories</code></a> command line option.
Indicates that the default repositories should not be used.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-offline">
<td><code>offline</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--offline"><code>--offline</code></a> command line option.
Enables offline mode that will prevent connections to remote repositories.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-out">
<td><code>out</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--out"><code>--out</code></a> command line option.
Specifies the output module repository (which must be publishable). (default: <code>./modules</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-overrides">
<td><code>overrides</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--overrides"><code>--overrides</code></a> command line option.
Specifies the XML file to use to load module overrides. See http://ceylon-lang.org/documentation/current/reference/repository/maven/ for information. <em>Experimental</em>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-pass">
<td><code>pass</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--pass"><code>--pass</code></a> command line option.
Sets the password for use with an authenticated output repository (no default).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-resultProperty">
<td><code>resultProperty</code></td>
<td><p>The ant property to set to the Ceylon program exit code</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-scripts">
<td><code>scripts</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--scripts"><code>--scripts</code></a> command line option.
Include scripts (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-src">
<td><code>src</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--src"><code>--src</code></a> command line option.
Include sources (default: <code>false</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-stacktraces">
<td><code>stacktraces</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--stacktraces"><code>--stacktraces</code></a> command line option.
If an error propagates to the top level tool, print its stack trace.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-sysRep">
<td><code>sysRep</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--sysrep"><code>--sysrep</code></a> command line option.
Specifies the system repository containing essential modules. (default: <code>$CEYLON_HOME/repo</code>)</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-user">
<td><code>user</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--user"><code>--user</code></a> command line option.
Sets the user name for use with an authenticated output repository (no default).</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-verbose">
<td><code>verbose</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--verbose"><code>--verbose</code></a> command line option.
Produce verbose output. If no <code>flags</code> are given then be verbose about everything, otherwise just be verbose about the flags which are present. Allowed flags include: <code>all</code>, <code>loader</code>, <code>files</code>.</p>
</td>
<td>No</td>
</tr>

<tr id="attribute-withDependencies">
<td><code>withDependencies</code></td>
<td><p>Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--with-dependencies"><code>--with-dependencies</code></a> command line option.
Recursively copy all dependencies</p>
</td>
<td>No</td>
</tr>

</tbody>
</table>

### Nested elements

#### `<define>`

<p>A <code>&lt;define&gt;</code> element is used to set system properties for the ant task being executed.
Equivalent to the <a href="../ceylon/subcommands/ceylon-copy.html#option--define"><code>--define</code></a> command line option.
Set a system property</p>
The value for the system property can either be passed as a `value` attribute:

    <define key="org.example.helloworld.greeting" value="Hi"/>

or it can be the text between the begin and end tags:

<!-- lang: xml -->
    <define key="org.example.helloworld.greeting">Hi</define>

Alternatively, it is posible to dispense with the attributes and use the syntax

    <define>org.example.helloworld.greeting=Hi</define>


<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>key</code></td>
<td><p>The property to be defined</p>
</td>
<td>No</td>
</tr>
<tr>
<td><code>value</code></td>
<td><p>The value of the define</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<module>`

<p>A module to copy.</p>
A `<module>` element must specify a name, and may specify a version. If the relevant ceylon task don't require a version it will be ignored.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>name</code></td>
<td><p>The module name.</p>
</td>
<td>Yes</td>
</tr>
<tr>
<td><code>version</code></td>
<td><p>The module version. Whether this is required depends on the task</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<moduleSet>`

<p>A set of modules to copy.</p>
A `<moduleset>` containing a number of `<sourcemodule>`s and/or `<module>` subelements. It can be defined at the top level and then used by reference using the `refid` attribute, so you don't have to repeat the same list of modules all the time.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <a href="../ant/#_moduleset"><code>&lt;moduleset&gt;</code></a> defined elsewhere.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<rep>`

<p>A module repository containing dependencies. Can be specified multiple times. Defaults to <code>&lt;rep url="./modules"/&gt;</code>.</p>
<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>url</code></td>
<td><p>The URL or path of the module repository.</p>
</td>
<td>Yes, unless a `refid` is given</td>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <code>&lt;rep&gt;</code> defined outside this task.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<reposet>`

<p>A set of module repositories containing dependencies. Can be specified multiple times. Default to <code>modules</code>.</p>
A `<reposet>` element contains a number of `<repo>` and/or `<reposet>` elements. It can be defined at the top level, and then used by reference using the `refid` attribute so you don't have to repeat the same list of repositories all the time.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>refid</code></td>
<td><p>A reference to a <a href="../ant/#_reposet"><code>&lt;reposet&gt;</code></a> defined elsewhere.</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>

#### `<sourceModules>`

<p>A set of modules to copy.</p>
Includes all the ceylon modules in a given source directory, as specified by the `dir` attribute. This saves you having to explicitly list all the modules to be compiled, you can instead just compile all the modules in a given directory.

<table class="ant-elements">
<tbody>
<tr>
<th>Element</th>
<th>Description</th>
<th>Required</th>
</tr>
<tr>
<td><code>dir</code></td>
<td><p>The directory containing module source files</p>
</td>
<td>No</td>
</tr>
</tbody>
</table>


## See also

* How to [declare the tasks with a `<typedef>`](../ant).
